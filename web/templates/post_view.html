{{define "content"}}
  <div class="post-glass-container">

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Å—Ç -->
    <article>
      <h1 class="post-title">{{.Post.Title}}</h1>

      <!-- –•–µ—à—Ç–µ–≥–∏ -->
      <div class="post-tags">
        {{range .Post.Categories}}
          <span class="tag">#{{.}}</span>
        {{end}}
      </div>

      <!-- –ì–∞–ª–µ—Ä–µ—è -->
      <div class="post-gallery">
        {{if .Post.ImageURL}}
          <img src="/{{.Post.ImageURL}}" alt="Main image" class="post-img">
        {{end}}

        {{range .Post.Images}}
          <img src="/{{.}}" alt="Additional image" class="post-img">
        {{end}}
      </div>

      <p class="post-content">{{.Post.Content}}</p>

      {{if .User}}
        {{if eq .User.ID .Post.UserID}}
          <div class="post-owner-actions">
            <a href="/post/edit?id={{.Post.ID}}" class="vista-btn-small">üìù –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
            <a href="/post/delete?id={{.Post.ID}}" class="vista-btn-small delete" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç?')">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</a>
          </div>
        {{end}}
      {{end}}
    </article>

    <!-- –õ–∞–π–∫–∏ / –¥–∏–∑–ª–∞–π–∫–∏ / –∞–≤—Ç–æ—Ä -->
    <div class="post-actions">
      <form action="/like" method="POST" class="like-form">
        <input type="hidden" name="target_id" value="{{.Post.ID}}">
        <input type="hidden" name="target_type" value="post">
        <input type="hidden" name="value" value="1">
        <button type="submit" class="like-btn">üëç {{.Post.Likes}}</button>
      </form>

      <form action="/like" method="POST" class="like-form">
        <input type="hidden" name="target_id" value="{{.Post.ID}}">
        <input type="hidden" name="target_type" value="post">
        <input type="hidden" name="value" value="-1">
        <button type="submit" class="dislike-btn">üëé {{.Post.Dislikes}}</button>
      </form>

      <span class="post-author">–ê–≤—Ç–æ—Ä: {{.Post.AuthorName}}</span>
    </div>

    <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ -->
    <h3>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h3>

    {{if .User}}
      <form action="/comment/create" method="POST" class="comment-form">
        <input type="hidden" name="post_id" value="{{.Post.ID}}">
        <textarea name="content" placeholder="–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..." required></textarea><br>
        <button type="submit" class="vista-btn-small">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      </form>
    {{else}}
      <p><a href="/login" class="auth-b">–í–æ–π–¥–∏—Ç–µ</a>, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫–∏.</p>
    {{end}}

    {{range .Comments}}
      <div class="comment-card">
        <p>{{.Content}}</p>
        <small>–ê–≤—Ç–æ—Ä: {{.AuthorName}}</small>
        <div class="comment-actions">
          {{if $.User}}
            <form action="/like" method="POST" class="like-form-inline">
              <input type="hidden" name="target_id" value="{{.ID}}">
              <input type="hidden" name="target_type" value="comment">
              <input type="hidden" name="value" value="1">
              <button type="submit" class="like-btn-inline">üëç {{.Likes}}</button>
            </form>
            <form action="/like" method="POST" class="like-form-inline">
              <input type="hidden" name="target_id" value="{{.ID}}">
              <input type="hidden" name="target_type" value="comment">
              <input type="hidden" name="value" value="-1">
              <button type="submit" class="dislike-btn-inline">üëé {{.Dislikes}}</button>
            </form>

            {{if eq $.User.ID .UserID}}
              <a href="/comment/delete?id={{.ID}}" class="vista-link delete">—É–¥–∞–ª–∏—Ç—å</a>
            {{end}}
          {{end}}
        </div>
      </div>
    {{end}}

  </div>
{{end}}
